<% /* views/vendor/editItem.ejs */ %>
<% title = 'Edit Item' %>

<h1>Edit Item</h1>

<% if (error) { %>
  <p style="color:red;"><%= error %></p>
<% } %>

<form action="/vendor/items/<%= item._id %>/edit" method="POST" enctype="multipart/form-data">
  <div>
    <label for="name">Name</label><br/>
    <input id="name" name="name" type="text" value="<%= item.name %>" required />
  </div>
  <div>
    <label for="description">Description</label><br/>
    <textarea id="description" name="description"><%= item.description %></textarea>
  </div>
  <div>
    <label for="price">Price</label><br/>
    <input id="price" name="price" type="number" step="0.01" value="<%= item.price %>" required />
  </div>
  <div>
    <label for="available">
      <input id="available" name="available" type="checkbox" <%= item.available ? 'checked' : '' %> />
      Available
    </label>
  </div>
  <div>
    <p>Current Image:</p>
    <% if (item.imageUrl) { %>
      <img src="<%= item.imageUrl %>" alt="<%= item.name %>" width="120"/><br/>
    <% } else { %>
      <p>(none)</p>
    <% } %>
    <label for="image">Change Image</label><br/>
    <input id="image" name="image" type="file" accept="image/*" />
  </div>
  <button type="submit">Save Changes</button>
</form>

<p><a href="/vendor/items">‚Üê Back to Menu</a></p>
